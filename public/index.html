<!DOCTYPE html>
<html lang="es">
   <head>
      <meta charset="UTF-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Login</title>
   </head>
   <body>
      <h1>Iniciar sesi√≥n</h1>
      <form id="form">
         <input type="email" id="email" value="pepe@gmail.com" />
         <input type="text" id="password" value="12345" />
         <button type="submit" id="acceder">Acceder</button>
      </form>

      <script>
         const $form = document.getElementById('form');
         const $email = document.getElementById('email');
         const $password = document.getElementById('password');

         $form.addEventListener('submit', async (e) => {
            e.preventDefault();
            try {
               const res = await fetch('/api/v1/auth/login', {
                  method: 'POST',
                  headers: { 'Content-type': 'application/json' },
                  body: JSON.stringify({ email: $email.value, password: $password.value }),
               });
               console.log(res);

               const data = await res.json();
               console.log(data);

              //localStorage.setItem('token', data.token);
            } catch (err) {
               console.log(err);
            }
         });
      </script>
   </body>
</html>
